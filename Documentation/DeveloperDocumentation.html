<p dir="ltr">
    Team Poseidon
</p>
<p dir="ltr">
    Pocket Pickup
</p>
<br/>
<p dir="ltr">
    Sergey Naumets (snaumets@cs)
</p>
<p dir="ltr">
    Victor Farkas (vfarkas@cs)
</p>
<p dir="ltr">
    Jacob Gile (jjgile@cs)
</p>
<p dir="ltr">
    Patrick Larson (palarson@cs)
</p>
<p dir="ltr">
    Kane Swanson (kane@cs, kdswan@uw)
</p>
<p dir="ltr">
    Isaiah Mathieu (imathieu@cs)
</p>
<br/>
<p dir="ltr">
    Development Environment
</p>
<br/>
<p dir="ltr">
    Pocket Pickup can be developed and run on any modern operating system. We have team members working in Windows, OS X and Fedora.
</p>
<br/>
<p dir="ltr">
    The below instructions are for Unix based systems with a bash shell. Contact us for assistance setting up another development environment.
</p>
<br/>
<br/>
<p dir="ltr">
    Obtaining the documentation
</p>
<p dir="ltr">
    View our Google Drive documentation repository at the following link:
    <br/>
    <a href="https://drive.google.com/folderview?id=0B2bmG-AtEaoJUzJ5b3NGbUU4cE0&amp;usp=sharing">
        https://drive.google.com/folderview?id=0B2bmG-AtEaoJUzJ5b3NGbUU4cE0&amp;usp=sharing
    </a>
</p>
<br/>
<p dir="ltr">
    The file structure has each release (Zero Feature, Beta) at the top level. Within each release is a set of .pdf documents as well as a change log. In the
    src folder is all of the source files for the published .pdf. Source files may either be in collaborative google docs format or in Microsoft Word format.
    <br/>
    <br/>
    To edit documentation, please contact a team member for edit privileges. To edit documents that are in google docs format, perform edit in a browser. Then,
    download the file and publish a pdf in the main folder, and write any changes in the change log. To edit document in Word format, you must download them
    first.
</p>
<br/>
<p dir="ltr">
    To be clear, we are not emailing around Word documents. We update documents in the source folder as we go, then publish a pdf of these documents for every
    release, so that older versions are accessible.
</p>
<br/>
<p dir="ltr">
    Obtaining the source code and toolset
</p>
<br/>
<p dir="ltr">
    Note: Pocket Pickup has only been tested on physical devices running Android 4.4.2. It has not been tested using emulation software
</p>
<br/>
<p dir="ltr">
    IDE, SDK, and source code:
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            From the command line, navigate to a directory into which you wish to store the source code. This should NOT be the Eclipse workspace that you will
            use for development of this app.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Either download and unpack the tarbal available here
            <a href="https://sites.google.com/site/cse403teamposeidon/feature-complete-release">
                https://sites.google.com/site/cse403teamposeidon/feature-complete-release
            </a>
            , or run git clone <a href="https://github.com/isaiahmathieu/pocketpickup">https://github.com/isaiahmathieu/pocketpickup</a>, creating a directory
            called pocketpickup
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
Open Eclipse ADT. If you do not have it installed you can download it here:            <a href="http://developer.android.com/sdk/index.html">http://developer.android.com/sdk/index.html</a> by clicking the “Download the SDK” button.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            If prompted, update the version of Android SDK Tools.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            In Eclipse select ‘File’-&gt;’Import...’
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Open the Android directory and choose ‘Existing Android Code Into Workspace’ and hit ‘Next’.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Hit ‘Browse’ and select the ‘pocketpickup’ directory that you just created by cloning the repo in step 2.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            DO NOT select the checkbox option to ‘Copy projects into workspace’.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Hit ‘Finish’.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Right-click on the PocketPickup project click on properties, navigate to Android in the left menu. Click the “add” button next to the library
            window. One-by-one, add the facebook, appcompat and google-play-services libraries
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            In order to run the app on an android device, you must edit your PATH variable. Add the two lines below to your .bash_profile (PATH_TO_ADT_BUNDLE
            is the path to the folder called “sdk” that is inside folder you downloaded in step 3 that contains Eclipse and all the Android libraries. For,
            example, if I downloaded the zip file and extracted it into my Downloads folder inside my home folder, PATH_TO_ADT_BUNDLE would be
            “~/Downloads/adt-bundle-mac-x86_64-20140321/sdk”
        </p>
    </li>
</ol>
<br/>
<p dir="ltr">
    export adtsdk=PATH_TO_ADT_BUNDLE
</p>
<p dir="ltr">
    export PATH=${PATH}:${adtsdk}/sdk/platform-tools:{adtsdk}/sdk/tools
</p>
<br/>
<br/>
<p dir="ltr">
    If you get errors like “can’t find Java.Object,” reported fixes have included restarting the ADT and/or deleting all 5 projects (not from the disk) and
    re-importing
</p>
<br/>
<p dir="ltr">
    Obtaining Facebook API credentials
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            If administrative access has not been provided to you yet, email a team member to request Facebook app administrative access for Pocket Pickup.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            To run the app on a device through your computer, go to the Pocke Pickup Facebook app, navigate to settings (left menu), scroll to the bottom, and
            add your key hash, which you can obtain by running:
        </p>
    </li>
    <ol>
        <li dir="ltr">
            <p dir="ltr">
                OS X or linux
                <br/>
                keytool -exportcert -alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64
            </p>
        </li>
        <li dir="ltr">
            <p dir="ltr">
                Windows (requires installation of openssl, which must been in your system path)
                <br/>
                keytool -exportcert -alias androiddebugkey -keystore %HOMEPATH%\.android\debug.keystore | openssl sha1 -binary | openssl base64
            </p>
        </li>
    </ol>
</ol>
<p dir="ltr">
    when prompted for a password, enter “android”
</p>
<br/>
<ol start="3">
    <li dir="ltr">
        <p dir="ltr">
            c
        </p>
    </li>
    <ol>
        <li dir="ltr">
            <p dir="ltr">
                In the Package Explorer view, right click on the PocketPickup project folder and choose Properties
            </p>
        </li>
        <li dir="ltr">
            <p dir="ltr">
                In the left tab, choose the Android page
            </p>
        </li>
        <li dir="ltr">
            <p dir="ltr">
                In the Library section, click Add
            </p>
        </li>
        <li dir="ltr">
            <p dir="ltr">
                Add the Facebook library and press okay
            </p>
        </li>
    </ol>
</ol>
<br/>
<p dir="ltr">
    Obtaining Parse.com credentials
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            If credentials have not been provided to you yet, email a team member to request Parse.com credentials.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Once you have the file credentials.txt, copy it into the folder called assets that is inside the PocketPickup sub-folder
            (PocketPickup/PocketPickup/assets) then refresh the PocketPickup folder by selecting it and right clicking then clicking ‘Refresh’.
        </p>
    </li>
</ol>
<br/>
<p dir="ltr">
    Obtain a Google Maps API Key. This must be done on a per-computer basis, so these steps must be followed for each computer you intend to develop the app
    on.
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            Go to: <a href="https://console.developers.google.com">https://console.developers.google.com</a> and log in/sign up if necessary
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Create a new project, call it whatever you want (PocketPickup is a good choice)
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            If you are not immediately brought to this new project’s dashboard, click on the new project from the list of other projects to open the dashboard
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Click on “APIs &amp; auth” section of the menu on the left
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Scroll down to find "Google Maps Android API v2" and turn it on
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Go to credentials
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Under Public API Access hit the CREATE NEW KEY button
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Select Android Key.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Once the dialog appears, open Eclipse and open the preferences window
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Expand the android tab and select 'Build'
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Copy the SHA1 fingerprint into the input of the android key creation dialog
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Add a semicolon to the end of the SHA1 fingerprint
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Paste the bundle name of the app (com.uwcse403.pocketpickup) after the semi-colon from the previous step then hit Create
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Open the manifest file located at PocketPickup/AndroidManifest.xml and copy the created key into the android:value attribute of the element that
            looks like this:
        </p>
    </li>
</ol>
<p dir="ltr">
    &lt;meta-data
</p>
<p dir="ltr">
    android:name="com.google.android.maps.v2.API_KEY"
</p>
<p dir="ltr">
    android:value="YOUR_GOOGLE_MAPS_API_KEY_GOES_HERE"/&gt;
</p>
<br/>
<p dir="ltr">
    Style Plugins:
</p>
<br/>
<p dir="ltr">
    Please enable style check before writing new code
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            Open Eclipse ADT
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Click ‘Help’-&gt;’Install New Software’
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Click ‘Add...’
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Type ‘Eclipse Checkstyle’ into the name field, and ‘<a href="http://eclipse-cs.sf.net/update/">http://eclipse-cs.sf.net/update/</a>’ as the
            location URL.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Check the box next to ‘Checkstyle’ and click next.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Click next, accept the licenses (after reading them, of course) then click finish.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Restart Eclipse ADT
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Click ‘Preferences’-&gt;’Checkstyle’-&gt;’New’
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Choose external configuration file, enter “Pocket Pickup Style” for the style, and choose [your source
            directory]/PocketPickup/assets/checkstyle.xml
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Set this configuration to default.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Right click on PocketPickup in the page explorer and click properties
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Click Checkstyle-&gt;configure-&gt;Filters-&gt;Suppression Filters-&gt;Add
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Browse to and select the Suppressions.xml file in the assert directory
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Right click on PocketPickup in the page explorer and click ‘Checkstyle’-&gt;’Activate Checkstyle’
        </p>
    </li>
</ol>
<br/>
<br/>
<p dir="ltr">
    Directory structure:
</p>
<br/>
<p dir="ltr">
    The root directory is called pocketpickup and it contains five sub-directoreis: appcompat_v7, facebook, google-play-services_lib, PocketPickup, and
    PocketPickupTests. The first three folders contain libraries needed by the Android application and should not be altered. Inside the PocketPickup
    directory, developers will see the folder organization common to most Android applications. This includes
</p>
<ul>
    <li dir="ltr">
        <p dir="ltr">
            gen (Android generated files),
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            bin (the built application, class files and other binaries),
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            res (resources needed by the Android application),
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            libs (necessary libraries), and
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            src (the source code for the application).
        </p>
    </li>
</ul>
<br/>
<p dir="ltr">
    Developers should only need to worry about src and res. src contains the bulk of the application code. res contains resources such as static strings that
    the application uses for labels and warning messages.
</p>
<br/>
<p dir="ltr">
    Building the Application:
</p>
<br/>
<p dir="ltr">
    Running the PocketPickup project as an Android app will create a .apk file in the bin directory. This is the application.
</p>
<br/>
<p dir="ltr">
    Running the App:
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            Enable USB Debugging on your test device. Instructions for this vary by model so consult the appropriate manual.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Connect your device to your computer and select the PocketPickup folder then select ‘Run’-&gt;’Run As’-&gt; ‘Android Application’.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            You will be prompted to select from a list of virtual or physical devices to run the app on. If you do not see the physical device that’s plugged
            into your computer, open a command prompt and run: adb kill-server; adb start-server then try running the app again.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            After selecting your device, hitting OK will install and run the app on your device
        </p>
    </li>
</ol>
<br/>
<p dir="ltr">
    Testing the Application:
</p>
<br/>
<p dir="ltr">
    We build, run, sign, and test the application through the command line using Android ant.
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            First, from the root pocketpickup directory, we generate the necessary files by running “android update lib-project -p ./&lt;LIB_DIR&gt;” where
            LIB_DIR is the root directory of the facebook, google-maps, and appcompat libraries.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Run “android update project -p ./PocketPickup”
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Run “android update test-project -p ./PocketPickupTests -m ../PocketPickup”
        </p>
    </li>
</ol>
<br/>
<p dir="ltr">
    In order to get code coverage statistics a few changes need to be made to Android’s default build.xml file. We do not actually want to change this file, so
    we make a copy of it.
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            Copy the build.xml file from {android_sdk}/sdk/tools/ant into some other directory
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Modify that build xml file to change the location of coverage.ec from /data/data/&lt;application name&gt;/coverage.ec to /sdcard/coverage.ec
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Modify the build.xml file in PocketPickupTests to include the modified Android build file. This import should be the last line
        </p>
    </li>
</ol>
<br/>
<p dir="ltr">
    Now, to test and run the code, first log in to the application to begin a Facebook session. Note that the screen needs to be on to run the tests.
</p>
<br/>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            From the PocketPickupTests directory, run “ant clean emma debug install test”
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            The coverage.txt file will be generated in PocketPickupTests/bin
        </p>
    </li>
</ol>
<br/>
<br/>
<p dir="ltr">
    Setting up automated daily tests:
</p>
<br/>
<p dir="ltr">
    Our team is running daily tests on one of our own local machines. To set up automatic
</p>
<p dir="ltr">
    builds on your own system, use the following tutorials:
</p>
<br/>
<p dir="ltr">
    <a href="https://digitalocean.com/community/articles/how-to-install-and-use-jenkins-on-ubuntu-12-04">
        https://digitalocean.com/community/articles/how-to-install-and-use-jenkins-on-ubuntu-12-04
    </a>
</p>
<p dir="ltr">
    <a href="https://www.digitalocean.com/community/articles/how-to-build-android-apps-with-jenkins">
        https://www.digitalocean.com/community/articles/how-to-build-android-apps-with-jenkins
    </a>
</p>
<br/>
<p dir="ltr">
    Releasing a version:
</p>
<p dir="ltr">
    Push to the repository and use github’s release feature to create a new release.
</p>
<p dir="ltr">
    Upload it to the Google Play Store using these instructions:
    <a href="http://developer.android.com/distribute/googleplay/publish/preparing.html">
        http://developer.android.com/distribute/googleplay/publish/preparing.html
    </a>
</p>
<br/>
<p dir="ltr">
    Viewing and submitting bug reports:
</p>
<br/>
<p dir="ltr">
Pocket Pickup uses Github’s bug tracking system. Current unresolved bugs can be viewed here:    <a href="https://github.com/palarson/pocket-pickup/issues">https://github.com/palarson/pocket-pickup/issues</a>.
</p>
<br/>
<p dir="ltr">
    New bugs can be submitted by developers at the same page by clicking the “New Issue” button.
</p>
<br/>
<p dir="ltr">
    Design Patterns and Principles
</p>
<ol>
    <li dir="ltr">
        <p dir="ltr">
            Adaptor Pattern – GameHandler.java allows code in the different application Activities to use use our code for manipulating the database.
        </p>
    </li>
    <li dir="ltr">
        <p dir="ltr">
            Caching – allowable sports are queried from the database and cached locally to use for populating lists. This occurs in PocketPickupApplication.
        </p>
    </li>
</ol>
<br/>
<br/>
<br/>